<html>
  <aw:include path="/templates/head.xml" setcon.title="parents sequence" />
  <body>
    <aw:include path="../../header.xml" setcon.heading="The Parents Sequence Command" />
          <p>
      The parents sequence command supports looping through the parents of a Rolon and is invoked using the <aw:a href="index.html">aw:loop element</aw:a>.
      The series of keys generated by this command are the UUID's of the parent Rolons.
    </p>
    <h3>
      Attributes
    </h3>
    <p>
      The cmd attribute on the aw:loop element is required to invoke this command:
    </p>
<p><code>cmd="parents"</code></p>
    <h3>
      Parameters
    </h3>
    <p>
      The parents sequence command requires one parameter, whose name may vary depending on the value of the <b>loopPrefix</b> parameter used by the aw:loop element:
    </p>
    <dl>
      <dt>rolonUuid</dt><dd>The UUID of the Rolon.</dd>
      </dl>
    <h3>
      Loop Constants
    </h3>
    <p>
      The <code>name</code> constant is set to the child name used by each of the parent Rolons, in turn.
      (The name of this parameter will vary, depending on the value of the <code>loopPrefix</code> parameter.)
    </p>
    <h3>
      Example
    </h3>
    <p>
      In this example we list the parents of the home rolon. Note in particular the use of the special attribute notation:
    </p>
<pre>      &lt;aw:query cmd="singletonUuid" role="users"&gt;
        &lt;aw:query cmd="rolon"&gt;
          &lt;table border="1"&gt;
            &lt;tr&gt;
              &lt;th&gt;&lt;/th&gt;
              &lt;th&gt;
                Parent UUID
              &lt;/th&gt;
              &lt;th&gt;
                Parent Role
             &lt;/th&gt;
              &lt;th&gt;
                Child Name
             &lt;/th&gt;
            &lt;/tr&gt;
            &lt;aw:loop cmd="parents"&gt;
              &lt;tr aw:class="stripeClass"&gt;
                &lt;td align="right"&gt;
                  &lt;aw:contents name="index" /&gt;
                &lt;/td&gt;&lt;td&gt;
                  &lt;aw:contents name="key" /&gt;
                &lt;/td&gt;&lt;td&gt;
                  &lt;aw:query cmd="versionId">
                    &lt;aw:contents aw.versionId:value="role" /&gt;
                  &lt;/aw:query&gt;
                &lt;/td&gt;&lt;td&gt;
                  &lt;aw:contents name="name" /&gt;
                &lt;/td&gt;
              &lt;/tr&gt;
            &lt;/aw:loop&gt;
          &lt;/table&gt;
        &lt;/aw:query&gt;
      &lt;/aw:query&gt;
      
      </pre>
    <p>
      Here is the result of the above:
    </p>
      <aw:query cmd="singletonUuid" role="users">
        <aw:query cmd="rolon">
          <table border="1">
            <tr>
              <th></th>
              <th>
                Parent UUID
              </th>
              <th>
                Parent Role
             </th>
              <th>
                Child Name
             </th>
            </tr>
            <aw:loop cmd="parents">
              <tr aw:class="stripeClass">
                <td align="right">
                  <aw:contents name="index" />
                </td><td>
                  <aw:contents name="key" />
                </td><td>
                  <aw:query cmd="versionid">
                    <aw:contents aw.versionId:value="role" />
                  </aw:query>
                </td><td>
                  <aw:contents name="name" />
                </td>
              </tr>
            </aw:loop>
          </table>
        </aw:query>
      </aw:query>
      

    <aw:include path="../../footer.xml" aw:setcon.template="currentRequest"/>
  </body>
</html>