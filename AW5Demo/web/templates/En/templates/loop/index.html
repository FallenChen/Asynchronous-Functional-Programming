<html>
  <aw:include path="/templates/head.xml" setcon.title="Loops Introduction" />
  <body>
    <aw:include path="../../header.xml" setcon.heading="An Introduction to AW5 Loops" />
      <div class="content">
	   		<section class="main-content">		
				<h2>An Introduction to AW5 Loops</h2>
				<nav  class="breadcrumbs">
			   	   	<ul>
			   	   		<li><a href="/templates/En/">Home</a></li>
						<li><span>&#8250;</span></li>
			   	   		<li><a href="/templates/En/docs.html">Docs</a></li>
						<li><span>&#8250;</span></li>
			   		   	<li><a href="/templates/En/templates/">Templates</a></li>
				   	</ul>
				</nav>

			    <p>
			      The <code>aw:loop</code> element is an important control structure for generating the rows of a table, lists, options, etc.
			      An <code>aw:loop</code> element applies a series of values to its subordinate elements, 
			      processing these elements once for each value in the series.
			    </p>
			    <p>
			      Sequence commands are used by loops to generate this series of values which the loop applies to its subordinate elements.
			      A number of sequence commands are included with AW5, and additional commands can be provided by application developers.
			      Sequence commands use the context map in determining the series of values to be generated,
			      while some commands use the context map itself as the source of these values.
			    </p>
			    <h3>
			      Loop Attributes
			    </h3>
			    <p>
			      The <code>aw:loop</code> element uses two attributes:
			    </p>
			    <dl>
			      <dt><code>cmd</code></dt><dd>This is a required attribute and is used to specify the name of the sequence command.</dd>
			      <dt><code>filter</code></dt><dd>This is an optional attribute. The value of this attribute is used to specify the name of a filter command.
			      See <aw:a href="filters/">filters</aw:a> for more information.</dd>  
			      <dt><code>loopPrefix</code></dt><dd>This is an optional attribute. The value of this attribute is pre-pended to the variables and parameters used by the aw:loop element.</dd>
			    </dl>
			    <p>
			      As a convenience, all the <code>aw:loop</code> attributes are added as string constants to the context map, 
			      which makes them accessible to the sequence command being invoked.
			    </p>
			    <h3>
			      Loop Variables
			    </h3>
			    <p>
			      The <code>aw:loop</code> element uses 2 variables in the context map, <code>key</code> and <code>index</code>, 
			      though the names of these variables can be changed through the use of the <code>loopPrefix</code> attribute.
			      These variables are created when the <code>aw:loop</code> element is processed,
			      unless they are already present in the context map.
			    </p>
				<dl>	
			      <dt><code>key</code></dt><dd>This variable is set to the values in the sequence generated by the sequence command, successively.
			      The elements subordinate to the <code>aw:loop</code> element can access the value being processed using this variable.</dd>
			      <dt><code>index</code></dt><dd>This variable serves as a simple counter, with an initial value of 1.</dd>
			    </dl>
			    <h3>
			      Loop Parameters
			    </h3>
			    <p>
			      The <code>aw:loop</code> element uses a number of optional name/value pairs from the context map to modify its behavior. As with the loop variables, the names of these parameters can be changed through the use of the <code>loopPrefix</code> attribute.
			    </p>
				<dl>
			      <dt><code>prefix</code></dt><dd>When prefix is present in the context map, the sequence command will only generate values which start with the given prefix.</dd>
			      <dt><code>limit</code></dt><dd>By default, the aw:loop element will only process the first 1,000 values of the series
			      generated by the sequence command. This limit is changed when limit is present in the context map.

			      The limit parameter, together with the loop variables, provide the front-end developer with sufficient
			      control to display sections of a large table.</dd>

			      <dt><code>stripeClassName</code></dt><dd>This parameter is used to detrmine the className for odd rows of a table. 
			      it defaults to a value of "table-stripe-on".</dd>

			      <dt><code>noStripeClassName</code></dt><dd>This parameter is used to detrmine the className for even rows of a table. 
			      it defaults to a value of "table-stripe-off".</dd>

			      <dt><code>anchor</code></dt><dd>This parameter is provides the name of the anchor used in pagination.</dd>
				</dl>
			    <h3>
			      Loop Constants
			    </h3>
			    <p>
			      Within the context of a loop, several constants are optionally defined, though
			      their names will vary depending on the value of <code>loopPrefix</code>:</p>
			    <dl>
			      <dt>The <code>odd</code> constant</dt><dd>is present when the index is odd. 
			      This allows you to do table striping with a pair of <code>aw:is/aw:nis</code> elements.</dd>
			    
			      <dt>The <code>stripeClass</code> constant</dt><dd>is set to the value of <code>stripeClassName</code> when the index is odd;
			      otherwise it is set to the value of <code>noStripeClassName</code>.</dd>
			    
			      <dt>The <code>uuid</code> constant</dt><dd>is present when accessing a Rolon in a sequence of Rolons, 
			      and normally has the same value as the key variable.
			      But when the loop cmd is children, the uuid is extracted from the key, 
			      and the key is reduced to just the child name.</dd>
			    </dl>
			    <h3>
			      Returned Results
			    </h3>
			    <p>
			      The <code>aw:loop</code> element uses 3 optional variables in the context map to return links to be used to reset the display or to access a next or prior page.
			      These variables must be created externally to the <code>aw:loop</code> element, 
			      so that they may be accessed after the processing of the <code>aw:loop</code> has completed.
			      The names of these variables are also modified by the <code>loopPrefix</code> attribute.
			    </p>
				<dl>
			      <dt><code>resetLink</code></dt><dd>This variable is set to the link for accessing the first page.
			      If the first page is already being displayed, then this variable is set to the empty string.</dd>

			      <dt><code>previousLink</code></dt><dd>This variable is set to the link for accessing the previous page.
			      If there is no such page to access, then this variable is set to the empty string.</dd>

			      <dt><code>nextLink</code></dt><dd>This variable is set to the link for accessing the next page.
			      If there is no such page to access, then this variable is set to the empty string.</dd>
				</dl>
			    <h3>
			      Sequence Commands
			    </h3>
			    <aw:include path="../../contents.xml" />
			</section>
			<aside> </aside>
		</div>
		<aw:include path="../../footer.xml" aw:setcon.template="currentRequest"/>
  </body>
</html>
