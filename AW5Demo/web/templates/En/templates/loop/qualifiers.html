<html>
  <aw:include path="/templates/head.xml" setcon.title="qualifiers sequence" />
  <body>
    <aw:include path="../../header.xml" setcon.heading="The Qualifiers Sequence Command" />
                           <div class="content">
	   		<section class="main-content">		
				<h2>The Qualifiers Sequence Command</h2>
				<nav  class="breadcrumbs">
			   	   	<ul>
			   	   		<li><a href="/templates/En/">Home</a></li>
						<li><span>&#8250;</span></li>
			   	   		<li><a href="/templates/En/docs.html">Docs</a></li>
						<li><span>&#8250;</span></li>
			   		   	<li><a href="/templates/En/templates/">Templates</a></li>
						<li><span>&#8250;</span></li>
			   		   	<li><a href="/templates/En/templates/loop/">AW5 Loops</a></li>

				   	</ul>
				  </nav>
    <p>
      The qualifiers sequence command supports looping through the qualifiers of a Rolon and is invoked using the <aw:a href="index.html">aw:loop element</aw:a>.
      The series of keys generated by this command are the UUID's of the qualifier Rolons.
    </p>
    <h3>
      Attributes
    </h3>
    <p>
      The <code>cmd</code> attribute on the <code>aw:loop</code> element is required to invoke this command:
    </p>
<pre>cmd="qualifiers"</pre>
    <h3>
      Parameters
    </h3>
    <p>
      The qualifiers sequence command requires one parameter, whose name may vary depending on the value of the <code>loopPrefix</code> parameter used by the <code>aw:loop</code> element:
    </p>
    <dl>
      <dt><code>rolonUuid</code></dt><dd>The UUID of the Rolon.</dd>
    </dl>
    <h3>
      Loop Constants
    </h3>
    <p>
      The <code>name</code> constant is set to the child name used by each of the parent Rolons, in turn.
      (The name of this parameter will vary, depending on the value of the loopPrefix parameter.)
    </p>
    <h3>
      Example
    </h3>
    <p>
      In this example we list the qualifiers of the home rolon. Note in particular the use of the special attribute notation:
    </p>
<pre>      &lt;aw:query cmd="singletonUuid" role="users"&gt;
        &lt;aw:query cmd="rolon"&gt;
          &lt;table border="1" aw:setcon.q.rolonUuid="rolonUuid"&gt;
            &lt;tr&gt;
              &lt;th&gt;&lt;/th&gt;
              &lt;th&gt;
                Qualifier UUID
              &lt;/th&gt;
              &lt;th&gt;
                Qualifier Role
             &lt;/th&gt;
              &lt;th&gt;
                Qualification Attributes
             &lt;/th&gt;
            &lt;/tr&gt;
            &lt;aw:loop cmd="qualifiers"&gt;
              &lt;tr aw:class="stripeClass"&gt;
                &lt;td align="right"&gt;
                  &lt;aw:contents name="index" /&gt;
                &lt;/td&gt;&lt;td&gt;
                  &lt;aw:contents name="key" /&gt;
                &lt;/td&gt;&lt;td&gt;
                  &lt;aw:query cmd="versionId"&gt;
                    &lt;aw:contents aw.versionId:value="role" /&gt;
                  &lt;/aw:query&gt;
                &lt;/td&gt;&lt;td&gt;
                  &lt;table&gt;
                    &lt;aw:loop cmd="qualificationAttributes" loopPrefix="q" aw:setcon.q.quuid="uuid"&gt;
                      &lt;tr&gt;
                        &lt;td&gt;
                          &lt;aw:contents name="q.key" /&gt; 
                          =
                          &lt;aw:query cmd="lookup" aw:name="q.key" map="q.attributes"&gt;
                            &lt;aw:contents name="value"/&gt;
                          &lt;/aw:query&gt;
                        &lt;/td&gt;
                      &lt;/tr&gt;
                    &lt;/aw:loop&gt;
                  &lt;/table&gt;
                &lt;/td&gt;
              &lt;/tr&gt;
            &lt;/aw:loop&gt;
          &lt;/table&gt;
        &lt;/aw:query&gt;
      &lt;/aw:query&gt;
      
</pre>
    <p>
      Here is the result of the above:
    </p>
      <aw:query cmd="singletonUuid" role="users">
        <aw:query cmd="rolon">
          <table border="1" aw:setcon.q.rolonUuid="rolonUuid">
            <tr>
              <th></th>
              <th>
                Qualifier UUID
              </th>
              <th>
                Qualifier Role
             </th>
              <th>
                Qualification Attributes
             </th>
            </tr>
            <aw:loop cmd="qualifiers">
              <tr aw:class="stripeClass">
                <td align="right">
                  <aw:contents name="index" />
                </td><td>
                  <aw:contents name="key" />
                </td><td>
                  <aw:query cmd="versionId">
                    <aw:contents aw.versionId:value="role" />
                  </aw:query>
                </td><td>
                  <table>
                    <aw:loop cmd="qualificationAttributes" loopPrefix="q" aw:setcon.q.quuid="uuid">
                      <tr>
                        <td>
                          <aw:contents name="q.key" /> 
                          =
                          <aw:query cmd="lookup" aw:name="q.key" map="q.attributes">
                            <aw:contents name="value"/>
                          </aw:query>
                        </td>
                      </tr>
                    </aw:loop>
                  </table>
                </td>
              </tr>
            </aw:loop>
          </table>
        </aw:query>
      </aw:query>
      </section>
      <aside> </aside>
      </div>
    <aw:include path="../../footer.xml" aw:setcon.template="currentRequest"/>
  </body>
</html>